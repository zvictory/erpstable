import { db } from '../db';
import { glAccounts } from '../db/schema/finance';
import { eq } from 'drizzle-orm';

/**
 * Update existing GL accounts to Russian names
 */
async function updateGlAccountsToRussian() {
    console.log('üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ —Å—á–µ—Ç–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫...');

    const translations: Record<string, { name: string; description: string }> = {
        '1010': { name: '–ö–∞—Å—Å–∞', description: '–ù–∞–ª–∏—á–Ω—ã–µ –¥–µ–Ω—å–≥–∏ –≤ –∫–∞—Å—Å–µ' },
        '1110': { name: '–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π —Å—á–µ—Ç', description: '–†–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç –∫–æ–º–ø–∞–Ω–∏–∏ –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π –∏ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–π' },
        '1200': { name: '–°—á–µ—Ç–∞ –∫ –ø–æ–ª—É—á–µ–Ω–∏—é', description: '–°—á–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤, –µ—â–µ –Ω–µ –æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ' },
        '1310': { name: '–°—ã—Ä—å–µ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã', description: '–°—ã—Ä—å–µ, –æ–∂–∏–¥–∞—é—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ' },
        '1330': { name: '–ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ', description: '–ù–ó–ü - –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç —á–µ—Ä–µ–∑ —ç—Ç–∞–ø—ã –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏' },
        '1340': { name: '–ì–æ—Ç–æ–≤–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è', description: '–ì–æ—Ç–æ–≤–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏' },
        '2100': { name: '–°—á–µ—Ç–∞ –∫ –æ–ø–ª–∞—Ç–µ', description: '–°—á–µ—Ç–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫–æ–≤, –µ—â–µ –Ω–µ –æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ' },
        '2110': { name: '–ù–∞—á–∏—Å–ª–µ–Ω–Ω—ã–µ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (–¢–ú–¶ –≤ –ø—É—Ç–∏)', description: '–¢–æ–≤–∞—Ä—ã –ø–æ–ª—É—á–µ–Ω—ã, –Ω–æ —Å—á–µ—Ç –Ω–µ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω' },
        '2200': { name: '–ù–∞—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã', description: '–†–∞—Å—Ö–æ–¥—ã –ø–æ–Ω–µ—Å–µ–Ω—ã, –Ω–æ –µ—â–µ –Ω–µ –æ–ø–ª–∞—á–µ–Ω—ã' },
        '3100': { name: '–£—Å—Ç–∞–≤–Ω—ã–π –∫–∞–ø–∏—Ç–∞–ª', description: '–í–∫–ª–∞–¥ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –≤ –±–∏–∑–Ω–µ—Å' },
        '3200': { name: '–ù–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å', description: '–ù–∞–∫–æ–ø–ª–µ–Ω–Ω–∞—è –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–∫–∏ –∑–∞ –ø—Ä–æ—à–ª—ã–µ –ø–µ—Ä–∏–æ–¥—ã' },
        '4000': { name: '–í—ã—Ä—É—á–∫–∞ –æ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏', description: '–î–æ—Ö–æ–¥ –æ—Ç –ø—Ä–æ–¥–∞–∂' },
        '5000': { name: '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã', description: '–ù–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞' },
        '5100': { name: '–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–¥–∞–∂', description: '–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –ø—Ä–æ–¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤' },
        '5200': { name: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ —Ä–∞—Å—Ö–æ–¥—ã', description: '–†–∞—Å—Ö–æ–¥—ã –Ω–∞ –ø—Ä–æ–¥–∞–∂–∏ –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥' },
        '5300': { name: '–û–±—â–µ—Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã', description: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã' },
    };

    for (const [code, translation] of Object.entries(translations)) {
        await db.update(glAccounts)
            .set({
                name: translation.name,
                description: translation.description
            })
            .where(eq(glAccounts.code, code));
        console.log(`‚úì –û–±–Ω–æ–≤–ª–µ–Ω —Å—á–µ—Ç: ${code} - ${translation.name}`);
    }

    console.log('‚úÖ –ü–ª–∞–Ω —Å—á–µ—Ç–æ–≤ –æ–±–Ω–æ–≤–ª–µ–Ω!');
}

updateGlAccountsToRussian().catch((err) => {
    console.error('‚ùå –û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:', err);
    process.exit(1);
});
